[ src ]

url = https://github.com/transmission/transmission-releases/raw/master/transmission-<ver>.tar.xz
src_type = tar
src_dirname = <prog>-<ver>



[ vars ]



[ std ]

env =
prepare = tar --no-same-owner -xf <src_path> -C <tmp_dir>
configure = mkdir build && cd build && cmake
	-DCMAKE_INSTALL_PREFIX:PATH=/usr
	-DENABLE_GTK=OFF
	-DENABLE_LIGHTWEIGHT=OFF
	-DENABLE_NLS=OFF
	-DENABLE_QT=OFF
	-DENABLE_TESTS=OFF
	-DWITH_SYSTEMD=OFF
	..

build = cd build && make
pkg_create = cd build && make DESTDIR=<pkg_dir> install &&
	rm -r <pkg_dir>/usr/share/transmission/



[ std_autotools ]

env =
prepare = tar --no-same-owner -xf <src_path> -C <tmp_dir>
configure = rm m4/glib-gettext.m4 && autoreconf -fi &&
	./configure
	--prefix=/usr
	--disable-static
	--disable-dependency-tracking
	--disable-nls
	--enable-cli
	--enable-daemon
	--without-systemd
	--without-gtk

build = make
pkg_create = make DESTDIR=<pkg_dir> install &&
	rm -r <pkg_dir>/usr/share/doc/
